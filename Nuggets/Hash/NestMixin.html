<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>module Nuggets::Hash::NestMixin - nuggets Application documentation (v1.6.1)</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../../";
  var index_rel_prefix = "../../";
</script>

<script src="../../js/navigation.js" defer></script>
<script src="../../js/search.js" defer></script>
<script src="../../js/search_index.js" defer></script>
<script src="../../js/searcher.js" defer></script>
<script src="../../js/darkfish.js" defer></script>

<link href="../../css/fonts.css" rel="stylesheet">
<link href="../../css/rdoc.css" rel="stylesheet">




<body id="top" role="document" class="module">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../../table_of_contents.html#pages">Pages</a>
    <a href="../../table_of_contents.html#classes">Classes</a>
    <a href="../../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    
    
    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-i-array">#array</a>
    
    <li ><a href="#method-i-identity">#identity</a>
    
    <li ><a href="#method-i-nest">#nest</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="module-Nuggets::Hash::NestMixin">
  <h1 id="module-Nuggets::Hash::NestMixin" class="module">
    module Nuggets::Hash::NestMixin
  </h1>

  <section class="description">
    
  </section>

  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-array" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            array([depth]) &rarr; aHash
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Creates a nested hash, <code>depth</code> levels deep, that yields arrays at the last level.</p>

<p>Example:</p>

<pre class="ruby"><span class="ruby-identifier">hash</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">array</span>(<span class="ruby-value">2</span>)
<span class="ruby-identifier">hash</span>[<span class="ruby-value">:foo</span>][<span class="ruby-value">:bar</span>][<span class="ruby-value">:a</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value">1</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value">2</span>
<span class="ruby-identifier">hash</span>[<span class="ruby-value">:foo</span>][<span class="ruby-value">:bar</span>][<span class="ruby-value">:b</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value">3</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value">4</span>
<span class="ruby-identifier">hash</span>
<span class="ruby-comment">#=&gt; {:foo=&gt;{:bar=&gt;{:a=&gt;[1, 2], :b=&gt;[3, 4]}}}</span>
</pre>
          
          

          
          <div class="method-source-code" id="array-source">
            <pre>    <span class="ruby-comment"># File lib/nuggets/hash/nest_mixin.rb</span>
<span class="line-num">102</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">array</span>(<span class="ruby-identifier">depth</span> = <span class="ruby-value">0</span>)
<span class="line-num">103</span>   <span class="ruby-identifier">nest</span>(<span class="ruby-identifier">depth</span>) { [] }
<span class="line-num">104</span> <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-identity" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            identity([depth]) &rarr; aHash
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Creates a nested hash, <code>depth</code> levels deep, that yields the keys themselves at the last level.</p>

<p>Example:</p>

<pre class="ruby"><span class="ruby-identifier">hash</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">identity</span>(<span class="ruby-value">2</span>)
<span class="ruby-identifier">hash</span>[<span class="ruby-value">:foo</span>][<span class="ruby-value">:bar</span>][<span class="ruby-value">:a</span>] <span class="ruby-comment">#=&gt; :a</span>
<span class="ruby-identifier">hash</span>[<span class="ruby-value">:foo</span>][<span class="ruby-value">:bar</span>][<span class="ruby-value">:b</span>] <span class="ruby-comment">#=&gt; :b</span>
<span class="ruby-identifier">hash</span>
<span class="ruby-comment">#=&gt; {:foo=&gt;{:bar=&gt;{:a=&gt;:a, :b=&gt;:b}}}</span>
</pre>
          
          

          
          <div class="method-source-code" id="identity-source">
            <pre>   <span class="ruby-comment"># File lib/nuggets/hash/nest_mixin.rb</span>
<span class="line-num">85</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">identity</span>(<span class="ruby-identifier">depth</span> = <span class="ruby-value">0</span>)
<span class="line-num">86</span>   <span class="ruby-identifier">nest</span>(<span class="ruby-identifier">depth</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">key</span> }
<span class="line-num">87</span> <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-nest" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            nest([depth]) &rarr; aHash
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        <div class="method-heading">
          <span class="method-callseq">
            nest([depth[, value]]) &rarr; aHash
          </span>
          
        </div>
        
        <div class="method-heading">
          <span class="method-callseq">
            nest([depth]) { |key| ... } &rarr; aHash
          </span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Creates a nested hash, <code>depth</code> levels deep. The final hash will receive a default value of <code>value</code> or, if <code>value</code> is not given but a block is given, the result of the key yielded to that block, or, otherwise, the hash&#39;s original default value, typically <code>nil</code>.</p>

<p>NOTE: If you set the default value for one of the nested hashes explicitly, all of the effects described here disappear for that hash because that also means that the default proc will be cleared.</p>

<p>Example:</p>

<pre class="ruby"><span class="ruby-identifier">hash</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">nest</span>(<span class="ruby-value">2</span>)
<span class="ruby-identifier">hash</span>[<span class="ruby-value">:foo</span>][<span class="ruby-value">:bar</span>][<span class="ruby-value">:a</span>] = { <span class="ruby-value">x:</span> <span class="ruby-value">1</span>, <span class="ruby-value">y:</span> <span class="ruby-value">2</span> }
<span class="ruby-identifier">hash</span>[<span class="ruby-value">:foo</span>][<span class="ruby-value">:bar</span>][<span class="ruby-value">:b</span>] = { <span class="ruby-value">x:</span> <span class="ruby-value">0</span>, <span class="ruby-value">y:</span> <span class="ruby-value">3</span> }
<span class="ruby-identifier">hash</span>
<span class="ruby-comment">#=&gt; {:foo=&gt;{:bar=&gt;{:b=&gt;{:y=&gt;3, :x=&gt;0}, :a=&gt;{:y=&gt;2, :x=&gt;1}}}}</span>
</pre>
          
          

          
          <div class="method-source-code" id="nest-source">
            <pre>   <span class="ruby-comment"># File lib/nuggets/hash/nest_mixin.rb</span>
<span class="line-num">52</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">nest</span>(<span class="ruby-identifier">depth</span> = <span class="ruby-value">0</span>, <span class="ruby-identifier">value</span> = <span class="ruby-identifier">default</span> = <span class="ruby-keyword">true</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
<span class="line-num">53</span>   <span class="ruby-keyword">if</span> <span class="ruby-identifier">depth</span>.<span class="ruby-identifier">zero?</span>
<span class="line-num">54</span>     <span class="ruby-keyword">if</span> <span class="ruby-identifier">default</span>
<span class="line-num">55</span>       <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
<span class="line-num">56</span>         <span class="ruby-identifier">new</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">hash</span>, <span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">key</span>] = <span class="ruby-identifier">block</span>[<span class="ruby-identifier">key</span>] }
<span class="line-num">57</span>       <span class="ruby-keyword">else</span>
<span class="line-num">58</span>         <span class="ruby-identifier">new</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">hash</span>, <span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">key</span>] = <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">default</span> }
<span class="line-num">59</span>       <span class="ruby-keyword">end</span>
<span class="line-num">60</span>     <span class="ruby-keyword">else</span>
<span class="line-num">61</span>       <span class="ruby-identifier">new</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">hash</span>, <span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">key</span>] = <span class="ruby-identifier">value</span> }
<span class="line-num">62</span>     <span class="ruby-keyword">end</span>
<span class="line-num">63</span>   <span class="ruby-keyword">else</span>
<span class="line-num">64</span>     <span class="ruby-keyword">if</span> <span class="ruby-identifier">default</span>
<span class="line-num">65</span>       <span class="ruby-identifier">new</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">hash</span>, <span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">key</span>] = <span class="ruby-identifier">nest</span>(<span class="ruby-identifier">depth</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) }
<span class="line-num">66</span>     <span class="ruby-keyword">else</span>
<span class="line-num">67</span>       <span class="ruby-identifier">new</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">hash</span>, <span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">key</span>] = <span class="ruby-identifier">nest</span>(<span class="ruby-identifier">depth</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">value</span>) }
<span class="line-num">68</span>     <span class="ruby-keyword">end</span>
<span class="line-num">69</span>   <span class="ruby-keyword">end</span>
<span class="line-num">70</span> <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>

</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="https://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://ruby.github.io/rdoc/">RDoc</a> 6.2.1.1.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

